<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:fx="http://ns.adobe.com/mxml/2009" 
			   xmlns:s="library://ns.adobe.com/flex/spark" 
			   xmlns:mx="library://ns.adobe.com/flex/mx" width="100%" height="100%">
	<fx:Script>
		<![CDATA[
			import mx.core.FlexGlobals;
			import mx.events.ItemClickEvent;

			public function init():void {
				AppLaunchBar.selectedIndex = 2;
			}
			
			protected function AppLaunchBar_itemClickHandler(event:ItemClickEvent):void {
				FlexGlobals.topLevelApplication.linkBarChangePage(event.item.data);
			}
			
		]]>
	</fx:Script>
	
	<fx:Declarations>
		<s:ArrayCollection id="DocClassData">
			<fx:Object
				DocumentClassName="DocClass1"
				DocumentsPercentage="50"/>
			<fx:Object
				DocumentClassName="DocClass2"
				DocumentsPercentage="20"/>
			<fx:Object
				DocumentClassName="DocClass3"
				DocumentsPercentage="30"/>
		</s:ArrayCollection>
	</fx:Declarations>
	
	<s:BorderContainer width="100%" height="100%">
		<s:layout>
			<s:VerticalLayout paddingTop="0" paddingBottom="0" paddingLeft="0" paddingRight="0" gap="0"/>
		</s:layout>
				
		<!--Common header-->
		<s:BorderContainer id="CommonHeader" width="100%" height="38" borderVisible="false"
						   backgroundColor="#00315B7E">
			<s:layout>
				<s:HorizontalLayout paddingTop="0" paddingBottom="0" paddingLeft="5" paddingRight="5" verticalAlign="middle"/>
			</s:layout>
			<s:BorderContainer width="50%" height="{CommonHeader.height}" borderVisible="false"
							   backgroundColor="#00315B7E">
				<s:layout>
					<s:HorizontalLayout paddingTop="0" paddingBottom="0" gap="5" verticalAlign="middle"/>
				</s:layout>
				<s:Label text="Charts &amp; Reports" verticalAlign="top" 
						 fontFamily="Franklin Gothic Medium" fontSize="24" fontWeight="bold" color="white"/>
			</s:BorderContainer>
			<s:BorderContainer width="120" height="{CommonHeader.height}" borderVisible="false"
							   backgroundColor="#00315B7E">
				<s:layout>
					<s:HorizontalLayout paddingTop="0" paddingBottom="0" gap="5" verticalAlign="middle"/>
				</s:layout>
				<s:Label text="Notifications"
						 fontFamily="Franklin Gothic Medium" fontSize="11" fontWeight="normal" color="#00C1DAD6"/>
				<s:Spacer width="5"/>
				<s:Label text="Help" 
						 fontFamily="Franklin Gothic Medium" fontSize="11" fontWeight="normal" color="#00C1DAD6"/>
			</s:BorderContainer>
			<s:BorderContainer width="50%" height="{CommonHeader.height}" borderVisible="false"
							   backgroundColor="#00315B7E">
				<s:layout>
					<s:HorizontalLayout paddingTop="0" paddingBottom="0" gap="5" verticalAlign="middle" horizontalAlign="right"/>
				</s:layout>
				<s:Label text="Theme" 
						 fontFamily="Franklin Gothic Medium" fontSize="11" fontWeight="normal" color="#00C1DAD6"/>
				<s:DropDownList/>
				<s:Spacer width="5"/>
				<s:Label text="Language" 
						 fontFamily="Franklin Gothic Medium" fontSize="11" fontWeight="normal" color="#00C1DAD6"/>
				<s:DropDownList width="50"/>
				<s:Spacer width="5"/>
				<s:Label text="username" 
						 fontFamily="Franklin Gothic Medium" fontSize="11" fontWeight="normal" color="#00C1DAD6"/>
				<s:Button label="Log off" buttonMode="true" 
						  height="21" click="FlexGlobals.topLevelApplication.logout()"
						  fontFamily="Franklin Gothic Medium" fontSize="12" fontWeight="bold" 
						  styleName="logOffButton"/>
				<s:BitmapImage width="20" height="20" 
							   scaleMode="stretch" fillMode="scale" 
							   source="../assets/settingsicon.jpg"/>
			</s:BorderContainer>
		</s:BorderContainer>
		<mx:HRule width="100%" strokeWidth="1" strokeColor="black"/>
		<mx:Spacer height="5"/>
		<!--End Common Header-->
		
		<!--App launch bar-->
		<s:BorderContainer width="100%" height="26" borderVisible="false">
			<s:layout>
				<s:BasicLayout/>
			</s:layout>
			<mx:LinkBar id="AppLaunchBar" 
						x="185" width="100%" height="26" horizontalAlign="center" horizontalGap="8"
						fontFamily="Franklin Gothic Medium" fontSize="13" fontWeight="bold"
						dataProvider="{FlexGlobals.topLevelApplication.linkBarDataProvider}"
						itemClick="AppLaunchBar_itemClickHandler(event)"
						separatorColor="#00C1DAD6" separatorWidth="1" iconField="icon">
			</mx:LinkBar>
		</s:BorderContainer>
		
		<!--Stage-->
		<s:Spacer height="5"/>
		<s:BorderContainer id="Stage" width="100%" height="100%" borderVisible="false">
			<s:layout>
				<s:VerticalLayout paddingTop="0" paddingBottom="0" paddingLeft="0" paddingRight="0" gap="0"/>
			</s:layout>
		
			<!--Logo and Search box-->
			<s:BorderContainer id="LogoAndSearchBox" width="100%" height="40" borderVisible="false">
				<s:layout>
					<s:BasicLayout/>
				</s:layout>
				<!--Logo-->
				<s:BorderContainer x="5" y="-35" width="175" height="75" borderVisible="false">
						<s:BitmapImage width="100%" height="100%" 
									   scaleMode="stretch" fillMode="scale" 
									   source="../assets/orionlogo.jpg"/>
				</s:BorderContainer>
				<!--SearchBox container-->
				<s:BorderContainer x="185" width="100%" height="40" borderVisible="true" backgroundColor="#00C1DAD6">
					<s:layout>
						<s:HorizontalLayout verticalAlign="middle" 
											paddingTop="5" paddingBottom="5" paddingLeft="5" paddingRight="5"/>
					</s:layout>
					<mx:Text text="Search for" height="21"  
							 fontFamily="Franklin Gothic Medium" fontSize="13" fontWeight="bold"/>
					<s:DropDownList width="150" height="21"
									rollOverColor="#00C0C0C0"
									fontFamily="Franklin Gothic Medium" fontSize="11" fontWeight="normal">
						<s:dataProvider>
							<mx:ArrayList>
								<fx:String>Charts</fx:String>
								<fx:String>Reports</fx:String>
								<fx:String>Audit Trails</fx:String>
							</mx:ArrayList>
						</s:dataProvider>
					</s:DropDownList>
					<s:TextInput width="100%"/>
					<s:Button label="Search" height="21" 
							  buttonMode="true" styleName="searchButton"
							  fontFamily="Franklin Gothic Medium" fontSize="12" fontWeight="bold"/>
				</s:BorderContainer>
			</s:BorderContainer>
			
			<!--Choose category-->
			<s:BorderContainer id="CategoryChooser" width="100%" height="100%" borderVisible="false">
				<s:layout>
					<s:HorizontalLayout paddingTop="5" paddingBottom="5" paddingLeft="5" paddingRight="5" gap="10"/>
				</s:layout>
				<s:BorderContainer id="CategoryTree" width="170" height="100%" borderVisible="false">
					<s:layout>
						<s:VerticalLayout paddingTop="0" paddingBottom="0" paddingLeft="0" paddingRight="0" gap="0"/>
					</s:layout>
					<s:BorderContainer width="170" height="20" borderVisible="true" borderColor="#00315B7E" backgroundColor="#00315B7E">
						<s:layout>
							<s:VerticalLayout paddingTop="0" paddingBottom="0" paddingLeft="5" paddingRight="5"
											  verticalAlign="middle"/>
						</s:layout>
						<mx:Text text="Choose category:" 
								color="white" fontFamily="Franklin Gothic Medium" fontSize="13" fontWeight="bold"/>
					</s:BorderContainer>
					<s:BorderContainer width="170" height="111" borderVisible="true">
						<s:layout>
							<s:VerticalLayout paddingTop="5" paddingBottom="5" paddingLeft="5" paddingRight="0" gap="0"/>
						</s:layout>
						<mx:Tree width="99%" height="100%" labelField="@label" rowHeight="20"
								 showRoot="true" borderSkin="{null}" 
								 fontFamily="Franklin Gothic Medium" fontSize="13" fontWeight="bold">
							<mx:XMLListCollection>
								<fx:XMLList>
									<folder label="Documents">
										<Pfolder label="By document class"/>>
									</folder>
									<folder label="Cases">
										<Pfolder label="By workflow procedure"/>
									</folder>
								</fx:XMLList>
							</mx:XMLListCollection>
						</mx:Tree>
					</s:BorderContainer>
				</s:BorderContainer>
				
				<!--Entities-->
				<s:BorderContainer id="Entities" width="100%" height="100%" borderVisible="false">
					<s:layout>
						<s:VerticalLayout gap="0" horizontalAlign="right"/>
					</s:layout>
					<s:TabBar height="20" fontFamily="Franklin Gothic Medium" fontSize="13" fontWeight="bold">
						<mx:ArrayCollection>
							<fx:String>Chart</fx:String> 
							<fx:String>Report</fx:String> 
						</mx:ArrayCollection>
					</s:TabBar>
					<s:TitleWindow title="Documents by Document Class" height="100%" width="100%" dropShadowVisible="false">
						<s:layout>
							<s:VerticalLayout/>
						</s:layout>
						<mx:PieChart id="myChart" 
									 dataProvider="{DocClassData}" 
									 showDataTips="true">
							<mx:series>
								<mx:PieSeries 
									field="DocumentsPercentage" 
									nameField="DocumentClassName"
									labelPosition="inside"/>
							</mx:series>
						</mx:PieChart>
						<mx:Legend dataProvider="{myChart}"/>
					</s:TitleWindow>
				</s:BorderContainer>
			
			<!--End SearchFiltersAndSearchResults-->
			</s:BorderContainer>
			
		<!--End stage-->
		</s:BorderContainer>
		
		<!--Common footer-->
		<s:BorderContainer width="100%" height="18" borderVisible="false" backgroundColor="#00315B7E">
			<s:layout>
				<s:HorizontalLayout verticalAlign="middle" paddingLeft="5" paddingRight="5"/>
			</s:layout>
			<s:HGroup width="100%" horizontalAlign="left">
				<s:Label text="This copy of Orion Xerver is licensed to: CustomerName" 
						 fontFamily="Franklin Gothic Medium" fontSize="11" fontWeight="normal" color="#00C1DAD6"/>			
			</s:HGroup>
			<s:HGroup width="100%" horizontalAlign="center">
				<s:Label text="Copyright 2013 Magsoft" 
						 fontFamily="Franklin Gothic Medium" fontSize="11" fontWeight="normal" color="#00C1DAD6"/>
			</s:HGroup>
			<s:HGroup width="100%" horizontalAlign="right">
				<s:Label text="Credits" 
						 fontFamily="Franklin Gothic Medium" fontSize="11" fontWeight="normal" color="#00C1DAD6"/>				
			</s:HGroup>
		</s:BorderContainer>
		<!--End common footer-->
		
	</s:BorderContainer>
</mx:Canvas>
